####################
# EOCFM CORE SGUIS #
####################

# Sidebar SGUI
eocfm_sidebar_button_sgui = {
	scope = country
	
	is_shown = {
		eocfm_is_christian_trigger = yes
	}
	is_valid = {
		eocfm_is_christian_trigger = yes
	}
	effect = {
		eocfm_gui_toogle_effect = yes
	}
}

# Religion Trigger SGUIs
eocfm_catholic_sgui = {
	scope = country
	
	is_shown = {
		eocfm_is_roman_catholic_trigger = yes
	}
}
eocfm_orthodox_sgui = {
	scope = country
	
	is_shown = {
		eocfm_is_eastern_orthodox_trigger = yes
	}
}
eocfm_oriental_sgui = {
	scope = country
	
	is_shown = {
		eocfm_is_oriental_orthodox_trigger = yes
	}
}
eocfm_basileia_sgui = {
	scope = country
	
	is_shown = {
		basileia_is_active = yes
	}
}
eocfm_elysian_sgui = {
	scope = country
	
	is_shown = {
		eocfm_is_elysian_orthodox_trigger = yes
	}
}

############################
# METROPOLIAN INTERACTIONS #
############################


## CATHOLIC METROPOLIAN INTERACTIONS


## ORTHODOX METROPOLIAN INTERACTIONS
# Focus Actions
eocfm_emphasize_unity_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		NOT = {
			has_modifier = modifier_eocfm_emphasize_unity
		}
	}
	
	effect = {
		eocfm_remove_focus_modifiers_effect = yes
		add_modifier = modifier_eocfm_emphasize_unity
	}
}

eocfm_enforce_attendance_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		NOT = {
			has_modifier = modifier_eocfm_enforce_attendance
		}
	}
	
	effect = {
		eocfm_remove_focus_modifiers_effect = yes
		add_modifier = modifier_eocfm_enforce_attendance
	
	}
}

eocfm_theologize_dogma_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		NOT = {
			has_modifier = modifier_eocfm_theologize_dogma
		}
	}
	
	effect = {
		eocfm_remove_focus_modifiers_effect = yes
		add_modifier = modifier_eocfm_theologize_dogma
	}
}

eocfm_promote_ecumenism_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		NOT = {
			has_modifier = modifier_eocfm_promote_ecumenism
		}
	}
	
	effect = {
		eocfm_remove_focus_modifiers_effect = yes
		add_modifier = modifier_eocfm_promote_ecumenism
	}
}

# Capacity Actions
eocfm_commission_icon_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		custom_tooltip = {
			text = eocfm_is_selecting_icon_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_icon_var
				}
			}
		}
		trigger_if = {
			limit = {
				eocfm_has_icon_trigger = no
			}
			has_technology_researched = romanticism
			custom_tooltip = {
				text = eocfm_need_200_caesaropapism
				hidden_trigger = {
					eocfm_caesaropapism_capacity_value >= 200
				}
			}
		}
	}
	
	effect = {
		set_variable = eocfm_icon_var
		trigger_event = {
			id = eocfm.020 # Commissioning an Icon
			popup = yes
		}
	}
}

eocfm_dissolve_monasteries_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_dissolved_monasteries
		}
	}
	
	is_valid = {
		ig:ig_devout = {
			is_powerful = no
			is_in_government = no
		}
		NOT = {
			has_modifier = modifier_eocfm_restored_monasteries
		}
	}
	
	effect = {
		if = {
			limit = {
				NOT = {
					has_variable = eocfm_dissolved_monasteries
				}
			}
			trigger_event = {
				id = eocfm.030 # Dissolution of the Monasteries
			}
		}
		add_modifier = modifier_eocfm_dissolved_monasteries
		set_variable = eocfm_dissolved_monasteries
	}
}

eocfm_restore_monasteries_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_dissolved_monasteries
	}
	
	is_valid = {
		always = yes # TODO restore monasteries triggers
	}
	
	effect = {
		remove_modifier = modifier_eocfm_dissolved_monasteries
		add_modifier = {
			name = modifier_eocfm_restored_monasteries
			months = normal_modifier_time
		}
	}
}

eocfm_reform_synod_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_reformed_synod
		}
	}
	
	is_valid = {
		has_technology_researched = tech_bureaucracy
		ig:ig_devout = {
			is_in_government = no
			ig_approval > 0
		}
		NOR = {
			has_modifier = modifier_eocfm_reformed_synod
			has_modifier = modifier_eocfm_restored_synod
			has_modifier = modifier_eocfm_clung_to_tradition
		}
	}
	
	effect = {
		add_modifier = modifier_eocfm_reformed_synod
		add_radicals = {
			pop_type = clergymen
			value = small_radicals
		}
	}
}

eocfm_restore_synod_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_reformed_synod
	}
	
	is_valid = {
		has_modifier = modifier_eocfm_reformed_synod
		custom_tooltip = {
			text = eocfm_need_100_caesaropapism
			hidden_trigger = {
				eocfm_caesaropapism_capacity_value >= 100
			}
		}
	}
	
	effect = {
		remove_modifier = modifier_eocfm_reformed_synod
		add_modifier = {
			name = modifier_eocfm_restored_synod
			months = long_modifier_time
			is_decaying = yes
		}
		add_loyalists = {
			pop_type = clergymen
			value = small_radicals
		}
		remove_variable = eocfm_caesaropapism_questioned
	}
}

eocfm_grant_subsidies_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_subsidizing_church
		}
	}
	
	is_valid = {
		NOT = {
			has_modifier = modifier_eocfm_subsidizing_church
		}
	}
	
	effect = {
		add_modifier = modifier_eocfm_subsidizing_church
	}
}

eocfm_end_subsidies_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_subsidizing_church
	}
	
	is_valid = {
		ig:ig_devout = {
			NOR = {
				is_powerful = yes
				is_in_government = yes
			}
		}
		custom_tooltip = {
			text = eocfm_need_100_caesaropapism
			hidden_trigger = {
				eocfm_caesaropapism_capacity_value >= 100
			}
		}
	}
	
	effect = {
		remove_modifier = modifier_eocfm_subsidizing_church
	}
}

eocfm_establish_schools_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_sunday_schools
		}
	}
	
	is_valid = {
		NOT = { has_law = law_type:law_no_schools }
		NOT = { has_law = law_type:law_total_separation }
		NOT = { has_modifier = modifier_eocfm_disbanded_sunday_schools }
	}
	
	effect = {
		add_modifier = modifier_eocfm_sunday_schools
	}
}

eocfm_disband_schools_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_sunday_schools
	}
	
	is_valid = {
		ig:ig_devout = {
			NOR = {
				is_powerful = yes
				is_in_government = yes
			}
		}
	}
	
	effect = {
		remove_modifier = modifier_eocfm_sunday_schools
		add_modifier = {
			name = modifier_eocfm_disbanded_sunday_schools
			months = long_modifier_time
		}
	}
}

## ORIENTAL METROPOLIAN INTERACTIONS


## ELYSIAN METROPOLIAN INTERACTIONS

################################
# PATRIARCHAL SEE INTERACTIONS #
################################

## GENERAL SEE INTERACTIONS
eocfm_declare_autocephaly_sgui = {
	scope = country
	
	is_shown = {
		NOR = {
			has_variable = eocfm_is_autocephalous
			has_variable = eocfm_schism_var
		}
	}
	
	is_valid = {
		is_subject = no
		eocfm_has_500_caesaropapism_trigger = yes
		NOR = {
			has_law = law_type:law_theocracy
			has_modifier = modifier_eocfm_autocephaly_abandoned
		}
		trigger_if = {
			limit = {
				OR = {
					c:MOL ?= this
					c:WAL ?= this
				}
			}
			custom_tooltip = {
				text = eocfm_romania_united
				hidden_trigger = {
					c:ROM ?= this
				}
			}
		}
	}
	
	effect = {
		set_variable = {
			name = eocfm_schism_var
			value = 0
		}
		trigger_event = {
			id = eocfm.100 # Country Declaration of Schism
			popup = yes
		}
		add_modifier = {
			name = modifier_eocfm_schismatic
			months = 120
		}
	}
}

eocfm_schism_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_schism_var
	}
	
}

eocfm_secure_tetrarchy_sgui = {
	scope = country
	
	is_shown = {
		NOR = {
			has_variable = eocfm_tetrarchy_secured
			has_variable = eocfm_pentarchy_secured
			has_global_variable = eocfm_schism_mended
		}
	}
	
	is_valid = {
		eocfm_controls_and_owns_tetrarchy_trigger = yes
	}
	
	effect = {
		trigger_event = {
			id = eocfm.304 # The Ancient Partiarchates
			popup = yes
		}
	}
}

eocfm_secure_pentarchy_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_tetrarchy_secured
		NOT = { 
			has_variable = eocfm_pentarchy_secured
		}
		NOT = {
			has_global_variable = eocfm_schism_mended
		}
	}
	
	is_valid = {
		eocfm_controls_and_owns_pentarchy_trigger = yes
	}
	
	effect = {
		trigger_event = {
			id = eocfm.305 # The Restoration of the Pentarchy
			popup = yes
		}
	}
}

eocfm_mend_schism_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_pentarchy_secured
		NOT = {
			has_variable = eocfm_mending_var
		}
	}
	
	is_valid = {
		eocfm_has_1000_caesaropapism_trigger = yes
		eocfm_controls_and_owns_pentarchy_trigger = yes
		custom_tooltip = {
			text = eocfm_mending_started_NOT
			NOT = {
				has_global_variable = eocfm_mending_started
			}
		}
		custom_tooltip = {	
			text = eocfm_mending_completed_NOT
			NOT = {
				has_global_variable = eocfm_schism_mended
			}
		}
	}
	
	effect = {
		set_global_variable = eocfm_mending_started
		set_variable = {
			name = eocfm_mending_var
			value = 0
		}
		trigger_event = {
			id = eocfm.308 # The Council of Unification
		}
		add_modifier = modifier_eocfm_mending_schism
		hidden_effect = {
			every_country = {
				limit = {
					country_has_state_religion = rel:orthodox
					NOT = {
						has_variable = eocfm_mending_var
					}
				}
				trigger_event = {
					id = eocfm.308 # The Council of Unification
				}
			}
		}
	}
}

eocfm_mending_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_mending_var
	}
	
}

## CATHOLIC SEE INTERACTIONS


## ORTHODOX SEE INTERACTIONS
eocfm_seek_mandate_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		custom_tooltip = {
			text = eocfm_considering_mandate_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_considering_mandate
				}
			}
		}
		custom_tooltip = {
			text = eocfm_has_mandate_NOT
			hidden_trigger = {
				eocfm_has_mandate_trigger = no
			}
		}
		eocfm_has_500_caesaropapism_trigger = yes
		custom_tooltip = {
			text = eocfm_has_ecumenical_patriarch_approval
			hidden_trigger = {
				var:eocfm_constantinople_relations_var >= 80
			}
		}
		trigger_if = {
			limit = {
				c:TUR ?= {
					has_variable = eocfm_controls_constantinople
				}
			}
			custom_tooltip = {
				text = eocfm_turk_relations_cordial
				hidden_trigger = {
					c:TUR = {
						relations:root >= relations_threshold:cordial
					}
				}
			}
		}
	}
	
	effect = {
		trigger_event = {
			id = eocfm.160 # An Audience with the Patriarch
		}
		set_variable = eocfm_considering_mandate
	}
}

eocfm_convoke_council_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_is_autocephalous
	}
	
	is_valid = {
		is_subject = no
		is_at_war = no
		eocfm_controls_any_seat_trigger = yes
		eocfm_has_1000_caesaropapism_trigger = yes
		eocfm_is_autocephalous_trigger = yes
		custom_tooltip = {
			text = eocfm_council_counter_below_4
			hidden_trigger = {
				global_var:eocfm_council_var < 4
			}
		}
		custom_tooltip = {
			text = eocfm_theological_matter
			hidden_trigger = {
				eocfm_can_host_council_trigger = yes
			}
		}
		custom_tooltip = {
			text = eocfm_council_active_NOT
			hidden_trigger = {
				NOT = {
					any_country = {
						has_modifier = modifier_eocfm_hosting_council
					}
				}
			}
		}
		NOT = {
			has_modifier = modifier_eocfm_hosting_council
		}
	}
	
	effect = {
		show_as_tooltip = {
			add_modifier = modifier_eocfm_hosting_council
		}
		hidden_effect = { # This is to present the player clean information in the UI, but has a time limit to avoid shenanigans
			add_modifier = {
				name = modifier_eocfm_hosting_council
				months = 12
			}
		}
		trigger_event = {
			id = eocfm.121 # Council of X
			popup = yes
		}	
	}
}

eocfm_unify_orthodox_realms_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_texas_left
		}
	}
	
	is_valid = {
		custom_tooltip = {
			text = eocfm_is_autocephalous
			hidden_trigger = {
				has_variable = eocfm_is_autocephalous
			}
		}
		custom_tooltip = {
			text = eocfm_controls_eastern_seat
			hidden_trigger = {
				eocfm_controls_eastern_seat_trigger = yes
			}
		}
	}
	
	effect = {
		trigger_event = {
			id = eocfm.300 # The Partiarchate Rises
		}
		set_variable = eocfm_texas_left
	}
}

## ORIENTAL SEE INTERACTIONS


## ELYSIAN SEE INTERACTIONS


#################################
# PATRIARCHAL SEAT INTERACTIONS #
#################################

## CATHOLIC SEAT INTERACTIONS
# Rome
eocfm_assert_rome_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		eocfm_is_NOT_autocephalous_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_rome_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_rome
				}
			}
		}
		eocfm_is_roman_catholic_trigger = yes
	}
	
	effect = {
		trigger_event = {
			id = eocfm.148 # Supremacy Asserted Over Rome
			popup = yes
		}
	}
}

eocfm_integrate_rome_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_rome
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_rome_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_rome
				}
			}
		}
		owns_entire_state_region = STATE_LAZIO
	}
	
	effect = {
		set_variable = eocfm_integrating_rome
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_rome_claimed
		}
	}
}

eocfm_rome_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_rome
	}
	
}

eocfm_start_sway_rome_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_rome
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_rome
	}
}

eocfm_stop_sway_rome_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_rome
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_rome
	}
}

# Santiago
eocfm_integrate_santiago_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_santiago
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_santiago_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_santiago
				}
			}
		}
		owns_entire_state_region = STATE_GALICIA
	}
	
	effect = {
		set_variable = eocfm_integrating_santiago
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_santiago_claimed
		}
	}
}

eocfm_santiago_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_santiago
	}
	
}

eocfm_start_sway_santiago_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_santiago
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_santiago
	}
}

eocfm_stop_sway_santiago_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_santiago
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_santiago
	}
}

# Paris
eocfm_integrate_paris_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_paris
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_paris_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_paris
				}
			}
		}
		owns_entire_state_region = STATE_ILE_DE_FRANCE
	}
	
	effect = {
		set_variable = eocfm_integrating_paris
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_paris_claimed
		}
	}
}

eocfm_paris_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_paris
	}
	
}

eocfm_start_sway_paris_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_paris
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_paris
	}
}

eocfm_stop_sway_paris_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_paris
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_paris
	}
}

# Koln
eocfm_integrate_koln_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_koln
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_koln_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_koln
				}
			}
		}
		owns_entire_state_region = STATE_NORTH_RHINE
	}
	
	effect = {
		set_variable = eocfm_integrating_koln
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_koln_claimed
		}
	}
}

eocfm_koln_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_koln
	}
	
}

eocfm_start_sway_koln_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_koln
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_koln
	}
}

eocfm_stop_sway_koln_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_koln
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_koln
	}
}

# Vienna
eocfm_integrate_vienna_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_vienna
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_vienna_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_vienna
				}
			}
		}
		owns_entire_state_region = STATE_AUSTRIA
	}
	
	effect = {
		set_variable = eocfm_integrating_vienna
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_vienna_claimed
		}
	}
}

eocfm_vienna_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_vienna
	}
	
}

eocfm_start_sway_vienna_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_vienna
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_vienna
	}
}

eocfm_stop_sway_vienna_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_vienna
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_vienna
	}
}

## ORTHODOX SEAT INTERACTIONS
# Constantinople
eocfm_assert_constantinople_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		eocfm_is_NOT_autocephalous_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_constantinople_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_constantinople
				}
			}
		}
		owns_entire_state_region = STATE_EASTERN_THRACE
	}
	
	effect = {
		trigger_event = {
			id = eocfm.148 # Supremacy Asserted Over Constantinopole
			popup = yes
		}
	}
}

eocfm_integrate_constantinople_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_constantinople
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_constantinople_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_constantinople
				}
			}
		}
		owns_entire_state_region = STATE_EASTERN_THRACE
	}
	
	effect = {
		set_variable = eocfm_integrating_constantinople
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_constantinople_claimed
		}
	}
}

eocfm_constantinople_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_constantinople
	}
	
}

eocfm_start_sway_constantinople_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_constantinople
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_constantinople
	}
}

eocfm_stop_sway_constantinople_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_constantinople
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_constantinople
	}
}

# Antioch
eocfm_integrate_antioch_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_antioch
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_antioch_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_antioch
				}
			}
		}
		owns_entire_state_region = STATE_SYRIA
	}
	
	effect = {
		set_variable = eocfm_integrating_antioch
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_antioch_claimed
		}
	}
}

eocfm_antioch_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_antioch
	}
	
}

eocfm_start_sway_antioch_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_antioch
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_antioch
	}
}

eocfm_stop_sway_antioch_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_antioch
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_antioch
	}
}

# Jerusalem
eocfm_integrate_jerusalem_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_jerusalem
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_jerusalem_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_jerusalem
				}
			}
		}
		owns_entire_state_region = STATE_PALESTINE
	}
	
	effect = {
		set_variable = eocfm_integrating_jerusalem
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_jerusalem_claimed
		}
	}
}

eocfm_jerusalem_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_jerusalem
	}
	
}

eocfm_start_sway_jerusalem_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_jerusalem
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_jerusalem
	}
}

eocfm_stop_sway_jerusalem_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_jerusalem
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_jerusalem
	}
}

# Alexandria
eocfm_integrate_alexandria_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_alexandria
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		owns_entire_state_region = STATE_LOWER_EGYPT
	}
	
	effect = {
		set_variable = eocfm_integrating_alexandria
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_alexandria_claimed
		}
	}
}

eocfm_alexandria_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_alexandria
	}
	
}

eocfm_start_sway_alexandria_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_alexandria
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_alexandria
	}
}

eocfm_stop_sway_alexandria_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_alexandria
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_alexandria
	}
}

# Moscow
eocfm_integrate_moscow_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_moscow
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_moscow_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_moscow
				}
			}
		}
		owns_entire_state_region = STATE_MOSCOW
	}
	
	effect = {
		set_variable = eocfm_integrating_moscow
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_moscow_claimed
		}
	}
}

eocfm_moscow_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_moscow
	}
	
}

eocfm_start_sway_moscow_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_moscow
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_moscow
	}
}

eocfm_stop_sway_moscow_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_moscow
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_moscow
	}
}

## ORIENTAL SEAT INTERACTIONS
# Coptic Alexandria
eocfm_assert_coptic_alexandria_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		eocfm_is_oriental_orthodox_trigger = yes
		eocfm_is_NOT_autocephalous_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_coptic_alexandria_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_coptic_alexandria
				}
			}
		}
		owns_entire_state_region = STATE_LOWER_EGYPT
	}
	
	effect = {
		trigger_event = {
			id = eocfm.148 # Supremacy Asserted Over Constantinopole
			popup = yes
		}
	}
}

eocfm_integrate_coptic_alexandria_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_coptic_alexandria
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_coptic_alexandria_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_coptic_alexandria
				}
			}
		}
		owns_entire_state_region = STATE_LOWER_EGYPT
	}
	
	effect = {
		set_variable = eocfm_integrating_coptic_alexandria
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_coptic_alexandria_claimed
		}
	}
}

eocfm_coptic_alexandria_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_coptic_alexandria
	}
	
}

eocfm_start_sway_coptic_alexandria_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_coptic_alexandria
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_coptic_alexandria
	}
}

eocfm_stop_sway_coptic_alexandria_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_coptic_alexandria
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_coptic_alexandria
	}
}

# Syriac Antioch
eocfm_integrate_syriac_antioch_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_syriac_antioch
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_syriac_antioch_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_syriac_antioch
				}
			}
		}
		owns_entire_state_region = STATE_SYRIA
	}
	
	effect = {
		set_variable = eocfm_integrating_syriac_antioch
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_syriac_antioch_claimed
		}
	}
}

eocfm_syriac_antioch_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_syriac_antioch
	}
	
}

eocfm_start_sway_syriac_antioch_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_syriac_antioch
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_syriac_antioch
	}
}

eocfm_stop_sway_syriac_antioch_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_syriac_antioch
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_syriac_antioch
	}
}

# Etchmiadzin
eocfm_integrate_etchmiadzin_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_etchmiadzin
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_etchmiadzin_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_etchmiadzin
				}
			}
		}
		owns_entire_state_region = STATE_ARMENIA
	}
	
	effect = {
		set_variable = eocfm_integrating_etchmiadzin
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_etchmiadzin_claimed
		}
	}
}

eocfm_etchmiadzin_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_etchmiadzin
	}
	
}

eocfm_start_sway_etchmiadzin_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_etchmiadzin
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_etchmiadzin
	}
}

eocfm_stop_sway_etchmiadzin_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_etchmiadzin
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_etchmiadzin
	}
}

# Addis Ababa
eocfm_integrate_addis_ababa_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_addis_ababa
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_addis_ababa_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_addis_ababa
				}
			}
		}
		owns_entire_state_region = STATE_OROMIA
	}
	
	effect = {
		set_variable = eocfm_integrating_addis_ababa
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_addis_ababa_claimed
		}
	}
}

eocfm_addis_ababa_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_addis_ababa
	}
	
}

eocfm_start_sway_addis_ababa_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_addis_ababa
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_addis_ababa
	}
}

eocfm_stop_sway_addis_ababa_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_addis_ababa
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_addis_ababa
	}
}

# Qudshanis
eocfm_integrate_konak_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_konak
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_konak_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_konak
				}
			}
		}
		owns_entire_state_region = STATE_DIYARBAKIR
	}
	
	effect = {
		set_variable = eocfm_integrating_konak
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_konak_claimed
		}
	}
}

eocfm_konak_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_konak
	}
	
}

eocfm_start_sway_konak_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_konak
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_konak
	}
}

eocfm_stop_sway_konak_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_konak
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_konak
	}
}


## ELYSIAN SEAT INTERACTIONS ##
# Elysium
eocfm_assert_elysium_sgui = {
	scope = country
	
	is_shown = {
		always = yes
	}
	
	is_valid = {
		eocfm_is_NOT_autocephalous_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_elysium_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_elysium
				}
			}
		}
		eocfm_is_roman_catholic_trigger = yes
	}
	
	effect = {
		trigger_event = {
			id = eocfm.148 # Supremacy Asserted Over Rome
			popup = yes
		}
	}
}

eocfm_integrate_elysium_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_elysium
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_elysium_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_elysium
				}
			}
		}
		owns_entire_state_region = STATE_DISTRICT_OF_COLUMBIA
	}
	
	effect = {
		set_variable = eocfm_integrating_elysium
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_elysium_claimed
		}
	}
}

eocfm_elysium_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_elysium
	}
	
}

eocfm_start_sway_elysium_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_elysium
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_elysium
	}
}

eocfm_stop_sway_elysium_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_elysium
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_elysium
	}
}

# Tututepec
eocfm_integrate_mixtec_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_mixtec
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_mixtec_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_mixtec
				}
			}
		}
		owns_entire_state_region = STATE_OAXACA
	}
	
	effect = {
		set_variable = eocfm_integrating_mixtec
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_mixtec_claimed
		}
	}
}

eocfm_mixtec_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_mixtec
	}
	
}

eocfm_start_sway_mixtec_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_mixtec
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_mixtec
	}
}

eocfm_stop_sway_mixtec_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_mixtec
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_mixtec
	}
}

# Cahokia
eocfm_integrate_cahokia_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_variable = eocfm_integrating_cahokia
		}		
	}
	
	is_valid = {
		eocfm_is_autocephalous_trigger = yes
		eocfm_has_500_caesaropapism_trigger	= yes
		eocfm_NOT_integrating_seat_trigger = yes
		custom_tooltip = {
			text = eocfm_controls_cahokia_NOT
			hidden_trigger = {
				NOT = {
					has_variable = eocfm_controls_cahokia
				}
			}
		}
		owns_entire_state_region = STATE_ILLINOIS
	}
	
	effect = {
		set_variable = eocfm_integrating_cahokia
		set_variable = {
			name = eocfm_integration_var
			value = 0
		}
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			post_notification = notification_eocfm_cahokia_claimed
		}
	}
}

eocfm_cahokia_progressbar_sgui = {
	scope = country
	
	is_shown = {
		has_variable = eocfm_integrating_cahokia
	}
	
}

eocfm_start_sway_cahokia_sgui = {
	scope = country
	
	is_shown = {
		NOT = {
			has_modifier = modifier_eocfm_swaying_cahokia
		}
	}
	
	is_valid = {
		eocfm_has_200_caesaropapism_trigger = yes
		influence > 100
	}
	
	effect = {
		add_modifier = modifier_eocfm_swaying_cahokia
	}
}

eocfm_stop_sway_cahokia_sgui = {
	scope = country
	
	is_shown = {
		has_modifier = modifier_eocfm_swaying_cahokia
	}
	
	is_valid = {
		always = yes
	}
	
	effect = {
		remove_modifier = modifier_eocfm_swaying_cahokia
	}
}